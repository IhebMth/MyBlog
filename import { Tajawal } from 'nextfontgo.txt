import { Tajawal } from 'next/font/google'
import './globals.css'
import Header from './components/Header'
import Footer from './components/Footer'

// Better Arabic font
const tajawal = Tajawal({ 
  weight: ['300', '400', '500', '700', '900'],
  subsets: ['arabic'],
  display: 'swap',
})

export const metadata = {
  metadataBase: new URL('https://doroos-tn.vercel.app/'), 
  title: {
    default: 'مدونتي - أحدث المقالات والإرشادات',
    template: '%s | مدونتي'
  },
  description: 'اكتشف مقالات وإرشادات مفيدة في مختلف المجالات - دليلك الشامل للمعلومات القيمة',
  keywords: ['مدونة', 'مقالات', 'إرشادات', 'تعليم', 'معلومات'],
  authors: [{ name: 'مدونتي' }],
  creator: 'مدونتي',
  publisher: 'مدونتي',
  formatDetection: {
    email: false,
    address: false,
    telephone: false,
  },
  openGraph: {
    type: 'website',
    locale: 'ar_AR',
    url: 'https://doroos-tn.vercel.app/',
    siteName: 'مدونتي',
    title: 'مدونتي - أحدث المقالات والإرشادات',
    description: 'اكتشف مقالات وإرشادات مفيدة في مختلف المجالات',
    images: [
      {
        url: '/og-image.jpg',
        width: 1200,
        height: 630,
        alt: 'مدونتي',
      }
    ],
  },
  twitter: {
    card: 'summary_large_image',
    title: 'مدونتي - أحدث المقالات والإرشادات',
    description: 'اكتشف مقالات وإرشادات مفيدة في مختلف المجالات',
    images: ['/og-image.jpg'],
  },
  robots: {
    index: true,
    follow: true,
    googleBot: {
      index: true,
      follow: true,
      'max-video-preview': -1,
      'max-image-preview': 'large',
      'max-snippet': -1,
    },
  },
  icons: {
    icon: '/favicon.ico',
    apple: '/apple-touch-icon.png',
  },
}

export default function RootLayout({ children }) {
  return (
    <html lang="ar" dir="rtl" className="scroll-smooth">
      <body className={`${tajawal.className} antialiased bg-gray-50`}>
        <div className="flex flex-col min-h-screen">
          <Header />
          <main className="flex-grow">
            {children}
          </main>
          <Footer />
        </div>
      </body>
    </html>
  )
}

this is posts/[slug]/PostContent.jsx
'use client'

import { useEffect, useState } from 'react'
import Image from 'next/image'
import Link from 'next/link'
import { 
  FaCalendar, 
  FaUser, 
  FaClock, 
  FaFacebook, 
  FaTwitter, 
  FaWhatsapp, 
  FaLink,
  FaArrowLeft,
  FaCheck,
  FaTag
} from 'react-icons/fa'

export default function PostContent({ post, relatedPosts }) {
  const [readProgress, setReadProgress] = useState(0)
  const [copied, setCopied] = useState(false)
  const currentUrl = typeof window !== 'undefined' ? window.location.href : ''

  useEffect(() => {
    const handleScroll = () => {
      const windowHeight = window.innerHeight
      const documentHeight = document.documentElement.scrollHeight
      const scrollTop = window.scrollY
      const trackLength = documentHeight - windowHeight
      setReadProgress((scrollTop / trackLength) * 100)
    }

    window.addEventListener('scroll', handleScroll)
    return () => window.removeEventListener('scroll', handleScroll)
  }, [])

  const shareOnFacebook = () => {
    window.open(`https://www.facebook.com/sharer/sharer.php?u=${encodeURIComponent(currentUrl)}`, '_blank')
  }

  const shareOnTwitter = () => {
    window.open(`https://twitter.com/intent/tweet?url=${encodeURIComponent(currentUrl)}&text=${encodeURIComponent(post.title)}`, '_blank')
  }

  const shareOnWhatsApp = () => {
    window.open(`https://wa.me/?text=${encodeURIComponent(post.title + ' ' + currentUrl)}`, '_blank')
  }

  const copyLink = () => {
    navigator.clipboard.writeText(currentUrl)
    setCopied(true)
    setTimeout(() => setCopied(false), 2000)
  }

  // Related Post Card
  const RelatedPostCard = ({ post }) => (
    <Link 
      href={`/posts/${post.slug}`}
      className="group bg-white rounded-xl shadow-lg overflow-hidden hover:shadow-2xl transition-all duration-300 hover:-translate-y-2"
    >
      <div className="relative h-40 overflow-hidden">
        <Image
          src={post.coverImage}
          alt={post.title}
          fill
          className="object-cover group-hover:scale-110 transition-transform duration-500"
        />
      </div>
      <div className="p-5">
        <h3 className="font-bold text-gray-800 mb-2 line-clamp-2 group-hover:text-blue-600 transition-colors">
          {post.title}
        </h3>
        <div className="flex items-center gap-2 text-sm text-gray-500">
          <FaClock className="text-blue-500" />
          <span>{post.readTime}</span>
        </div>
      </div>
    </Link>
  )

  return (
    <>
      {/* Reading Progress Bar */}
      <div className="fixed top-0 left-0 right-0 h-1 bg-gray-200 z-50">
        <div 
          className="h-full bg-gradient-to-r from-blue-500 to-purple-500 transition-all duration-150"
          style={{ width: `${readProgress}%` }}
        />
      </div>

      <article className="min-h-screen bg-gray-50">
        {/* Hero Section */}
        <div className="relative h-[400px] md:h-[500px] bg-gray-900">
          <Image
            src={post.coverImage}
            alt={post.title}
            fill
            className="object-cover opacity-60"
            priority
          />
          <div className="absolute inset-0 bg-gradient-to-t from-gray-900 via-gray-900/50 to-transparent">
            <div className="container mx-auto px-4 h-full flex flex-col justify-end pb-12">
              <div className="max-w-4xl">
                <div className="inline-block bg-blue-600 text-white px-4 py-2 rounded-full text-sm font-bold mb-4">
                  {post.category}
                </div>
                <h1 className="text-3xl md:text-5xl lg:text-6xl font-black text-white mb-6 leading-tight">
                  {post.title}
                </h1>
                <div className="flex flex-wrap items-center gap-4 md:gap-6 text-gray-300">
                  <div className="flex items-center gap-2">
                    <FaUser className="text-blue-400" />
                    <span className="font-medium">{post.author}</span>
                  </div>
                  <div className="flex items-center gap-2">
                    <FaCalendar className="text-green-400" />
                    <span>{new Date(post.publishedDate).toLocaleDateString('ar-EG', { year:'numeric', month:'long', day:'numeric' })}</span>
                  </div>
                  <div className="flex items-center gap-2">
                    <FaClock className="text-yellow-400" />
                    <span>{post.readTime}</span>
                  </div>
                </div>
              </div>
            </div>
          </div>
        </div>

        {/* Main Content */}
        <div className="container mx-auto px-4 py-12">
          <div className="max-w-4xl mx-auto">
            {/* Share Buttons */}
            <div className="bg-white rounded-xl shadow-lg p-6 mb-8 sticky top-4 z-40">
              <div className="flex items-center justify-between flex-wrap gap-4">
                <h3 className="text-lg font-bold text-gray-800">شارك المقالة:</h3>
                <div className="flex gap-3">
                  <button onClick={shareOnFacebook} className="bg-blue-600 text-white p-3 rounded-lg hover:bg-blue-700 transition-all hover:scale-110">
                    <FaFacebook className="text-xl" />
                  </button>
                  <button onClick={shareOnTwitter} className="bg-sky-500 text-white p-3 rounded-lg hover:bg-sky-600 transition-all hover:scale-110">
                    <FaTwitter className="text-xl" />
                  </button>
                  <button onClick={shareOnWhatsApp} className="bg-green-500 text-white p-3 rounded-lg hover:bg-green-600 transition-all hover:scale-110">
                    <FaWhatsapp className="text-xl" />
                  </button>
                  <button onClick={copyLink} className={`p-3 rounded-lg transition-all hover:scale-110 ${copied ? 'bg-green-500 text-white' : 'bg-gray-200 text-gray-700 hover:bg-gray-300'}`}>
                    {copied ? <FaCheck className="text-xl" /> : <FaLink className="text-xl" />}
                  </button>
                </div>
              </div>
            </div>

            {/* Article Content */}
            <div className="bg-white rounded-2xl shadow-lg p-8 md:p-12 mb-12">
              <div className="bg-blue-50 border-r-4 border-blue-500 p-6 mb-8 rounded-lg">
                <p className="text-xl text-gray-700 leading-relaxed font-medium">{post.excerpt}</p>
              </div>

              <div 
                className="prose prose-lg max-w-none
                  prose-headings:text-gray-800 prose-headings:font-bold
                  prose-h2:text-3xl prose-h2:mt-12 prose-h2:mb-6
                  prose-h3:text-2xl prose-h3:mt-8 prose-h3:mb-4
                  prose-p:text-gray-700 prose-p:leading-relaxed prose-p:mb-6
                  prose-ul:my-6 prose-ul:list-disc prose-ul:list-inside
                  prose-ol:my-6 prose-ol:list-decimal prose-ol:list-inside
                  prose-li:text-gray-700 prose-li:mb-2
                  prose-strong:text-gray-900 prose-strong:font-bold
                  prose-a:text-blue-600 prose-a:no-underline hover:prose-a:underline"
                dangerouslySetInnerHTML={{ __html: post.content }}
              />

              {/* Tags */}
              <div className="border-t border-gray-200 mt-12 pt-8">
                <div className="flex items-center gap-3 flex-wrap">
                  <FaTag className="text-gray-400" />
                  <span className="font-bold text-gray-700">الوسوم:</span>
                  {post.tags.map((tag, index) => (
                    <span key={index} className="bg-gray-100 text-gray-700 px-4 py-2 rounded-full text-sm hover:bg-gray-200 transition">{tag}</span>
                  ))}
                </div>
              </div>
            </div>

            {/* Author Card */}
            <div className="bg-gradient-to-br from-blue-600 to-purple-600 rounded-2xl shadow-lg p-8 mb-12 text-white">
              <div className="flex items-center gap-6">
                <div className="bg-white/20 backdrop-blur-sm w-20 h-20 rounded-full flex items-center justify-center flex-shrink-0">
                  <FaUser className="text-4xl" />
                </div>
                <div>
                  <h3 className="text-2xl font-bold mb-2">كتب بواسطة: {post.author}</h3>
                  <p className="text-blue-100">كاتب ومدون متخصص في {post.category}</p>
                </div>
              </div>
            </div>

            {/* Related Posts */}
            {relatedPosts.length > 0 && (
              <div className="mb-12">
                <h2 className="text-3xl font-bold text-gray-800 mb-8 flex items-center gap-3">
                  <span className="bg-blue-600 w-2 h-8 rounded-full"></span>
                  مقالات ذات صلة
                </h2>
                <div className="grid grid-cols-1 md:grid-cols-3 gap-6">
                  {relatedPosts.map((rp) => <RelatedPostCard key={rp.id} post={rp} />)}
                </div>
              </div>
            )}

            {/* Back to Home */}
            <div className="text-center">
              <Link href="/" className="inline-flex items-center gap-3 bg-gradient-to-r from-blue-600 to-purple-600 text-white px-8 py-4 rounded-xl font-bold text-lg hover:shadow-xl transition-all duration-300 hover:scale-105">
                <FaArrowLeft />
                <span>العودة للرئيسية</span>
              </Link>
            </div>
          </div>
        </div>
      </article>
    </>
  )
}

this is posts/[slug]/page.jsx
import { notFound } from 'next/navigation'
import { posts, getPostBySlug, getRelatedPosts } from '../data'
import PostContent from './PostContent'

export default async function PostPage({ params }) {
  const slug = params.slug  // if params is not a promise, else use: const { slug } = await params
  const post = getPostBySlug(slug)
  if (!post) notFound()

  const relatedPosts = getRelatedPosts(post.id, post.category, 3)
  return <PostContent post={post} relatedPosts={relatedPosts} />
}


// Metadata for SEO
export async function generateMetadata({ params }) {
  const post = getPostBySlug(params.slug)
  if (!post) return { title: 'مقالة غير موجودة' }

  return {
    title: post.title,
    description: post.excerpt,
    openGraph: {
      title: post.title,
      description: post.excerpt,
      images: [post.coverImage],
      type: 'article',
      publishedTime: post.publishedDate,
      authors: [post.author],
      tags: post.tags,
    },
    twitter: {
      card: 'summary_large_image',
      title: post.title,
      description: post.excerpt,
      images: [post.coverImage],
    },
  }
}

// Generate static params for all posts
export async function generateStaticParams() {
  return posts.map((post) => ({ slug: post.slug }))
}


this is page.js
import Link from 'next/link'
import Image from 'next/image'
import { posts, getFeaturedPosts } from './posts/data'
import { FaRocket, FaBookOpen, FaLightbulb, FaChartLine, FaClock, FaUser, FaTag, FaArrowLeft } from 'react-icons/fa'

export default function Home() {
  const featuredPosts = getFeaturedPosts()
  const allPosts = posts

  const features = [
    {
      icon: FaBookOpen,
      title: 'محتوى تعليمي',
      description: 'مقالات وإرشادات شاملة في مختلف المجالات',
      color: 'bg-blue-500'
    },
    {
      icon: FaLightbulb,
      title: 'أفكار مبتكرة',
      description: 'اكتشف طرق جديدة للتعلم والنمو',
      color: 'bg-yellow-500'
    },
    {
      icon: FaChartLine,
      title: 'تطوير مستمر',
      description: 'محتوى محدث باستمرار لمواكبة التطورات',
      color: 'bg-green-500'
    },
  ]

  return (
    <div className="min-h-screen">
      {/* Hero Section */}
      <section className="relative bg-gradient-to-br from-blue-600 via-blue-700 to-blue-800 text-white overflow-hidden">
        {/* Background Pattern */}
        <div className="absolute inset-0 opacity-10">
          <div className="absolute inset-0" style={{
            backgroundImage: `url("data:image/svg+xml,%3Csvg width='60' height='60' viewBox='0 0 60 60' xmlns='http://www.w3.org/2000/svg'%3E%3Cg fill='none' fill-rule='evenodd'%3E%3Cg fill='%23ffffff' fill-opacity='1'%3E%3Cpath d='M36 34v-4h-2v4h-4v2h4v4h2v-4h4v-2h-4zm0-30V0h-2v4h-4v2h4v4h2V6h4V4h-4zM6 34v-4H4v4H0v2h4v4h2v-4h4v-2H6zM6 4V0H4v4H0v2h4v4h2V6h4V4H6z'/%3E%3C/g%3E%3C/g%3E%3C/svg%3E")`,
          }}></div>
        </div>

        <div className="container mx-auto px-4 py-20 md:py-32 relative">
          <div className="max-w-4xl mx-auto text-center">
            {/* Badge */}
            <div className="inline-flex items-center gap-2 bg-white/10 backdrop-blur-sm px-4 py-2 rounded-full mb-6 border border-white/20">
              <FaRocket className="text-yellow-300" />
              <span className="text-sm font-medium">مرحباً بك في مدونتي</span>
            </div>

            {/* Main Heading */}
            <h1 className="text-4xl md:text-6xl lg:text-7xl font-black mb-6 leading-tight">
              اكتشف عالماً من
              <span className="block text-transparent bg-clip-text bg-gradient-to-r from-yellow-300 to-orange-400">
                المعرفة والإلهام
              </span>
            </h1>

            {/* Subtitle */}
            <p className="text-xl md:text-2xl text-blue-100 mb-10 max-w-3xl mx-auto leading-relaxed">
              مقالات وإرشادات شاملة تساعدك على التعلم والنمو في مختلف المجالات
            </p>

            {/* CTA Buttons */}
            <div className="flex flex-col sm:flex-row gap-4 justify-center">
              <a
                href="#posts"
                className="px-8 py-4 bg-white text-blue-600 rounded-xl font-bold text-lg hover:bg-blue-50 transform hover:scale-105 transition-all duration-200 shadow-xl hover:shadow-2xl"
              >
                استكشف المقالات
              </a>
              <Link
                href="/about"
                className="px-8 py-4 bg-transparent border-2 border-white text-white rounded-xl font-bold text-lg hover:bg-white/10 transition-all duration-200"
              >
                تعرف علينا
              </Link>
            </div>
          </div>
        </div>

        {/* Wave Divider */}
        <div className="absolute bottom-0 left-0 right-0">
          <svg viewBox="0 0 1440 120" fill="none" xmlns="http://www.w3.org/2000/svg">
            <path d="M0 120L60 105C120 90 240 60 360 45C480 30 600 30 720 37.5C840 45 960 60 1080 67.5C1200 75 1320 75 1380 75L1440 75V120H1380C1320 120 1200 120 1080 120C960 120 840 120 720 120C600 120 480 120 360 120C240 120 120 120 60 120H0Z" fill="#F9FAFB"/>
          </svg>
        </div>
      </section>

      {/* Features Section */}
      <section className="py-20 bg-gray-50">
        <div className="container mx-auto px-4">
          <div className="grid grid-cols-1 md:grid-cols-3 gap-8 max-w-6xl mx-auto">
            {features.map((feature, index) => {
              const Icon = feature.icon
              return (
                <div
                  key={index}
                  className="bg-white p-8 rounded-2xl shadow-lg hover:shadow-xl transition-all duration-300 transform hover:-translate-y-2 border border-gray-100"
                >
                  <div className={`${feature.color} w-16 h-16 rounded-xl flex items-center justify-center mb-6 shadow-lg`}>
                    <Icon className="text-3xl text-white" />
                  </div>
                  <h3 className="text-2xl font-bold text-gray-800 mb-3">
                    {feature.title}
                  </h3>
                  <p className="text-gray-600 leading-relaxed">
                    {feature.description}
                  </p>
                </div>
              )
            })}
          </div>
        </div>
      </section>

      {/* Featured Posts Section */}
      {featuredPosts.length > 0 && (
        <section className="py-20 bg-white">
          <div className="container mx-auto px-4">
            <div className="text-center mb-12">
              <h2 className="text-4xl md:text-5xl font-bold text-gray-800 mb-4">
                المقالات المميزة
              </h2>
              <p className="text-xl text-gray-600 max-w-2xl mx-auto">
                أفضل المقالات التي يجب عليك قراءتها
              </p>
            </div>

            <div className="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-8 max-w-7xl mx-auto">
              {featuredPosts.map((post) => (
                <PostCard key={post.id} post={post} featured={true} />
              ))}
            </div>
          </div>
        </section>
      )}

      {/* All Posts Section */}
      <section id="posts" className="py-20 bg-gray-50">
        <div className="container mx-auto px-4">
          <div className="text-center mb-12">
            <h2 className="text-4xl md:text-5xl font-bold text-gray-800 mb-4">
              جميع المقالات
            </h2>
            <p className="text-xl text-gray-600 max-w-2xl mx-auto">
              تصفح مجموعتنا المتنوعة من المقالات المفيدة
            </p>
          </div>

          <div className="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-8 max-w-7xl mx-auto">
            {allPosts.map((post) => (
              <PostCard key={post.id} post={post} />
            ))}
          </div>
        </div>
      </section>

      {/* CTA Section */}
      <section className="py-20 bg-gradient-to-br from-gray-900 to-gray-800 text-white">
        <div className="container mx-auto px-4 text-center">
          <h2 className="text-3xl md:text-4xl font-bold mb-6">
            ابقَ على اطلاع دائم
          </h2>
          <p className="text-xl text-gray-300 mb-8 max-w-2xl mx-auto">
            تابعنا على منصات التواصل الاجتماعي لتحصل على آخر التحديثات
          </p>
          <div className="flex flex-wrap gap-4 justify-center">
            <a
              href="https://facebook.com"
              target="_blank"
              rel="noopener noreferrer"
              className="px-8 py-4 bg-blue-600 hover:bg-blue-700 rounded-xl font-bold transition-all duration-200 transform hover:scale-105"
            >
              تابعنا على فيسبوك
            </a>
            <a
              href="https://t.me/yourchannel"
              target="_blank"
              rel="noopener noreferrer"
              className="px-8 py-4 bg-blue-500 hover:bg-blue-600 rounded-xl font-bold transition-all duration-200 transform hover:scale-105"
            >
              انضم لقناة تيليجرام
            </a>
          </div>
        </div>
      </section>
    </div>
  )
}

// Post Card Component
function PostCard({ post, featured = false }) {
  return (
    <article className="bg-white rounded-2xl shadow-lg hover:shadow-2xl transition-all duration-300 overflow-hidden group border border-gray-100 flex flex-col h-full">
      {/* Image */}
      <Link href={`/posts/${post.slug}`} className="relative h-56 overflow-hidden">
        <Image
          src={post.coverImage}
          alt={post.title}
          fill
          className="object-cover group-hover:scale-110 transition-transform duration-500"
        />
        {featured && (
          <div className="absolute top-4 right-4 bg-yellow-400 text-gray-900 px-4 py-2 rounded-full text-sm font-bold shadow-lg">
            مميز ⭐
          </div>
        )}
        <div className="absolute top-4 left-4 bg-blue-600 text-white px-4 py-2 rounded-full text-sm font-bold shadow-lg">
          {post.category}
        </div>
      </Link>

      {/* Content */}
      <div className="p-6 flex flex-col flex-grow">
        {/* Meta Info */}
        <div className="flex items-center gap-4 text-sm text-gray-500 mb-3 flex-wrap">
          <div className="flex items-center gap-1">
            <FaUser className="text-blue-500" />
            <span>{post.author}</span>
          </div>
          <div className="flex items-center gap-1">
            <FaClock className="text-green-500" />
            <span>{post.readTime}</span>
          </div>
        </div>

        {/* Title */}
        <Link href={`/posts/${post.slug}`}>
          <h3 className="text-xl font-bold text-gray-800 mb-3 group-hover:text-blue-600 transition-colors line-clamp-2">
            {post.title}
          </h3>
        </Link>

        {/* Excerpt */}
        <p className="text-gray-600 mb-4 line-clamp-3 flex-grow">
          {post.excerpt}
        </p>

        {/* Tags */}
        <div className="flex items-center gap-2 mb-4 flex-wrap">
          <FaTag className="text-gray-400 text-sm" />
          {post.tags.slice(0, 2).map((tag, index) => (
            <span
              key={index}
              className="text-xs bg-gray-100 text-gray-700 px-3 py-1 rounded-full"
            >
              {tag}
            </span>
          ))}
        </div>

        {/* Read More Button */}
        <Link
          href={`/posts/${post.slug}`}
          className="inline-flex items-center gap-2 text-blue-600 font-bold hover:gap-4 transition-all duration-200 mt-auto"
        >
          <span>اقرأ المزيد</span>
          <FaArrowLeft className="group-hover:translate-x-1 transition-transform" />
        </Link>
      </div>
    </article>
  )
}